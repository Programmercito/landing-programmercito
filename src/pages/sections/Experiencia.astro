---
import EmailIcon from "../../components/icons/EmailIcon.astro";
import GithubIcon from "../../components/icons/GithubIcon.astro";
import LinkedinIcon from "../../components/icons/LinkedinIcon.astro";
import IconoLink from "../../components/opciones/IconoLink.astro";
import Subtitle from "../../components/opciones/Subtitle.astro";
import TextResalt from "../../components/opciones/TextResalt.astro";
import TitleSection from "../../components/opciones/TitleSection.astro";
import Section from "../../components/Section.astro";
import links from "../../data/experiencia.json";
---

<Section>
  <!-- Texto y botones -->
  <div class="order-2 md:order-1 md:pr-12 text-center md:text-left">
    <TitleSection>Experiencia</TitleSection>
    <div class="relative">
      <div class="absolute left-2 top-0 bottom-0 w-1 bg-blue-100 rounded"></div>
      {
        links.map((link, idx) => (
          <div class="relative mb-12 group">
            <div class="p-3 bg-white rounded-lg shadow group-hover:shadow-xl transition w-full">
              <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                <div>
                  <Subtitle>{link.name}</Subtitle>
                  <TextResalt>{link.position}</TextResalt>

                    {link.startDate} -{" "}
                    {link.endDate && link.endDate.trim() !== ""
                      ? link.endDate
                      : "Actualidad"}
                </div>
                <div class="flex flex-col items-center md:items-end text-xs text-gray-500 mt-2 md:mt-0 md:ml-auto">
                  {link.location && (
                    <span class="flex items-center gap-1">
                      <span>üìç</span>
                      <span>{link.location}</span>
                    </span>
                  )}
                </div>
              </div>
              <p class="mt-2">{link.summary}</p>

              {link.url && (
                <a
                  href={link.url}
                  target="_blank"
                  class="mt-4 inline-flex items-center gap-x-1 px-4 py-2 border border-gray-300 rounded-md justify-center
               shadow transform transition-all duration-300
               hover:bg-blue-600 hover:text-white hover:scale-105 hover:shadow-2xl"
                >
                  Ver mas
                </a>
              )}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</Section>
